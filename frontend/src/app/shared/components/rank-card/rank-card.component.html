<li class="mt-3 p-2 rounded-2 col-md-6 col-lg-12 product-song">
    <div class="row">

        <div class="d-flex flex-column justify-content-center col-lg-1">
            <p class="fs-1 fw-bold m-0" [ngClass]="rank">
                {{ _rank }}
            </p>
        </div>
        <div class="d-flex col-lg-5">
            <div class="product-song_img-container" style="width: 70px;">
                    <img *ngIf="song" (click)="toggleSendSong()" [src]="'http://localhost:8080/symphony/uploads' + song.song_img"
                        class="rounded-2 product-song-img" alt="" style="width: 55px; height: 55px; cursor: pointer;">
            </div>
            <div class="product-song-info d-flex flex-column justify-content-between">
                <h6 class="product-song-name text-white-primary refer mt-2">
                    <a [routerLink]="['/song', song.song_id]" class="refer text-decoration-none text-white-primary">
                        {{ song.songName }}
                    </a>
                </h6>
                <p class="product-song-singer text-support m-0">
                    <ng-container *ngFor="let singer of song.singers; let i = index; let isLast = last">
                        <a class="refer text-decoration-none text-support" [routerLink]="['/singer', singer.singer_id]">
                          {{ singer.stageName }}
                        </a>
                        <span *ngIf="!isLast">, </span>
                    </ng-container>

                </p>
            </div>
        </div>
        <div class="col-lg-3 d-flex flex-column justify-content-center">
            <p class="m-0 refer "*ngIf="song" class="m-0 refer">{{ song.songName }}</p>
        </div>
        <div class="col-lg-2 d-flex flex-column justify-content-center">
            <p *ngIf="song" class="m-0 ps-2">{{ song.duration | timeFormat }}</p>
        </div>
        <div class="col-5 col-lg-1 d-flex">
            <div class="d-flex flex-column justify-content-center w-50 ">
                    <i *ngIf="song" class="fa-regular fa-heart fs-6 refer btn favorite-btn"
                    [class.text-orange-primary]="favoriteSong()"
                    (click)="toggleFavorite()"></i>
            </div>
            <div class="d-flex flex-column justify-content-center w-50">
                <div class="dropdown dropstart text-end">
                    <div class="dropdown dropstart text-end">
                        <div class="dropdown-toggle text-center" data-bs-toggle="dropdown">
                            <i class="fa-solid fa-ellipsis fs-6 refer text-white-primary"></i>
                        </div>
                        <ul class="dropdown-menu bg-dark_grey-color">
                            <li>
                                <a class="dropdown-item text-white-primary btn" [routerLink]="['/song', song.song_id]">
                                    <i class="fa-solid fa-circle-info pe-2"></i>
                                    Chi tiết
                                </a>
                            </li>
                            <li>
                                        <span class="dropdown-item text-white-primary btn w-100 d-block p-0">
                                            <span class="favorite-btn w-100 d-block px-3 py-1" (click)="toggleFavorite()">
                                              <i class="fa-solid fa-plus pe-2"></i>
                                              {{ favoriteSong() ? 'Xóa khỏi thư viện' : 'Thêm vào thư viện' }}
                                            </span>
                                          </span>
                            </li>

                                <li *ngIf="isOwner" (click)="onEdit()" (click)="onSelectSong()">
                                    <span class="dropdown-item text-white-primary btn" data-bs-toggle="modal" data-bs-target="#songModalEdit">
                                        <i class="fa-solid fa-pen-to-square pe-2"></i>
                                        Chỉnh sửa
                                    </span>
                                </li>
                                <li *ngIf="isOwner" (click)="onDelete()" (click)="onSelectSong()">
                                    <span class="dropdown-item text-white-primary btn w-100 d-block p-0">
                                            <span class="delete-song w-100 d-block px-3 py-1" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#deleteSongModal">
                                                <i class="fa-solid fa-trash pe-2"></i>
                                                Xóa bài hát
                                            </span>
                                    </span>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</li>

